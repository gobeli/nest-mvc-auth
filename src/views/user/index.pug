extends ../layout
include ../mixins/_button

block content
  h1 Users
  table.shadow-md.rounded.w-full.bg-white(style="border-collapse: collapse")
    thead
      tr.text-left
        th.p-2.border-b-2.border-grey(class="w-1/3") Id
        th.p-2.border-b-2.border-grey(class="w-1/3") Username
        th.p-2.border-b-2.border-grey(class="w-1/3") IsAdmin
        th.p-2.border-b-2.border-grey.text-right.w-px Actions
    tbody(data-controller='user')
      each user in users
        tr
          td.p-2=user.id
          td.p-2=user.username
          td.p-2
            input(type="checkbox" checked=user.isAdmin disabled)
          td.p-2.text-right
            a.text-black(href=`/user/edit/${user.id}`)
              i.far.fa-edit
            a.text-black(data-action=`click->user#remove` data-id=user.id)
              i.ml-2.fas.fa-times
  +button(true).mt-4(href='/user/edit/0') Add User
    
  script(src="/assets/controllers/user_controller.js")